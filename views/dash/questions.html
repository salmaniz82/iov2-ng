<section class="hbox">



	<aside class="bg-white border-all mb-20" ng-if="vm.loading == null">
		<div style="padding: 10px;">
			<h3 class="t-center c-grey">Loading questions ...</h3>
		</div>	
	</aside>

	<aside class="bg-white border-all mb-20" ng-if="vm.loading == false">
		<div style="padding: 10px;">
			<h3 class="c-red t-center">Cannot load questions</h3>
		</div>	
	</aside>

	<aside class="grid12Col bg-white border-all mb-20" ng-if="vm.loading == 'no contents'">
		<div style="padding: 10px;">

			<h3 class="t-center gc-full c-grey">You have not added any questions yet</h3>

			<div class="dfx-center-xy">
					<a class="btn btn-success gc-full" ui-sref="dash.queadd()" style="width: 200px"> <span class="fas fa-plus"></span> Questions </a>
			</div>

		</div>	
	</aside>


</section>


<section class="hbox" ng-if="vm.loading == true">


<aside>

	<div class="grid12Col gap10 mb-15">
		<div class="gc-1-8 bg-white border-all">


			<div class="grid12Col gap5 customInner" style="margin: 20px; padding-right: 10px;">

				<div class="gc-remain-of-last-col">

					<form class="floatable w-80">

                <div class="field-wrap hasflatCons">
                    <span class="fal fa-search quiztitlefilter"></span>
                    <input type="text" name="titlefilter" id="title-filter" class="float-field w-100"  required ng-model="vm.searchQuery[sortType]">
                    <label for="title-filter" class="placeholder">Filter By Selected field</label>
                </div>
                
            </form>
					
				</div>

				<div class="gc-last-column dfx-center-xy">

					<a href="#" class="c-pink" ng-click="vm.clearFilters()"> Filters <span class="fal fa-times-circle"></span> </a>
					
				</div>
				
			</div>


			
		</div>


		<div class="gc-9-12 bg-white border-all dfx-center-xy">
			<a class="btn btn-success" ui-sref="dash.queadd()" style="width: 200px"> <span class="fas fa-plus"></span> Questions </a>
		</div>

	</div>
	
</aside>

</section>
	


<section class="hbox">

	<aside>
		




		<div ng-if="vm.loading == true">

		<div id="questionsSEttingsWrapper" class="bg-white border-all" ng-class="{'activated': vm.togglers}">

		<div class="stateicon" style="position: relative">
			<span class="togglerButton" ng-click="vm.togglers =! vm.togglers">
				
				<i class="far fa-arrow-alt-circle-left"></i>

			</span>
		</div>


		<div class="settingsArea" class="bg-white border-all">
			<div class="grid12Col gap10">
				<div class="g_nested quad">
					<div class="unselected" ng-click="vm.toggleFields('cat', 0)">
						<label>
							<input type="checkbox" ng-model="fields[0].cat">
							Category
						</label>
					</div>
					<div>
						<div class="selected">
						
						<label>
							<input type="checkbox" ng-model="fields[1].decip">
							Decipline
						</label>
					</div>
					</div>

					<div>

						<label>
							<input type="checkbox" ng-model="fields[2].author">
							Author
						</label>


					</div>


					<div>

						
						<label>
							<input type="checkbox" ng-model="fields[3].dated">
							Dated
						</label>
						
					</div>
				</div>

				<div class="g_nested quad">
				

					<div>
														
						<label>
							<input type="checkbox" ng-model="fields[4].desc">
							Description
						</label>
					</div>
					<div>
							
							<label>
							<input type="checkbox" ng-model="fields[5].answer">
							Answers
						</label>

					</div>
					<div>
							
							<label>
							<input type="checkbox" ng-model="fields[6].diff">
							Difficulty
						</label>

					</div>
					<div>

						<label>
							<input type="checkbox" ng-model="fields[7].type">
							Type
						</label>
						
					</div>
				</div>
				
				<div class="g_nested quad">	
					<div>

						<label>
							<input type="checkbox" ng-model="fields[8].hits">
							Hits
						</label>
						
					</div>
					<div>

						<label>
							<input type="checkbox" ng-model="fields[9].scope">
							Scope
						</label>
						
					</div>

					<div>

						<label>
							<input type="checkbox" ng-model="fields[10].status">
							Status
						</label>
						
					</div>
					

				</div> 
			</div>
		</div>
			
		</div>

	</div>


			<div ng-if="vm.loading == true" class="grid12Col gap5 bg-white border-all" style="padding: 10px; margin-bottom: 10px">
				

					<div>
						<label style="font-weight: 800;">Toggle Data Fields</label>
					</div>


					<div class="unselected" ng-click="vm.toggleFields('cat', 0)">
						<label>
							<input type="checkbox" ng-model="fields[0].cat">
							Category
						</label>
					</div>
					<div>
						<div class="selected">
						
						<label>
							<input type="checkbox" ng-model="fields[1].decip">
							Decipline
						</label>
					</div>
					</div>

					<div>

						<label>
							<input type="checkbox" ng-model="fields[2].author">
							Author
						</label>


					</div>


					<div>
														
						<label>
							<input type="checkbox" ng-model="fields[4].desc">
							Description
						</label>
					</div>
					<div>
							
							<label>
							<input type="checkbox" ng-model="fields[5].answer">
							Answers
						</label>

					</div>
					<div>
							
							<label>
							<input type="checkbox" ng-model="fields[6].diff">
							Difficulty
						</label>

					</div>
					<div>

						<label>
							<input type="checkbox" ng-model="fields[7].type">
							Type
						</label>
						
					</div>
				
				
				
					<div>

						<label>
							<input type="checkbox" ng-model="fields[8].hits">
							Hits
						</label>
						
					</div>
					<div>

						<label>
							<input type="checkbox" ng-model="fields[9].scope">
							Scope
						</label>
						
					</div>

					<div>

						<label>
							<input type="checkbox" ng-model="fields[10].status">
							Status
						</label>
						
					</div>


					<div>

						
						<label>
							<input type="checkbox" ng-model="fields[3].dated">
							Dated
						</label>
						
					</div>
					

				
			</div>

	


			<table class="table bg-white border-all" ng-if="vm.loading == true">
				
				<thead>
					<tr>
					<th>
						
						<a href="#" ng-click="vm.selectSortfield('$')">S.NO *</a>
					</th>
					<th ng-if="fields[0].cat">
					
						<a href="#" ng-click="vm.selectSortfield('category')">Category</a>
						<span ng-click="vm.toggleSort()" ng-show="sortType == 'category'" ng-class="(sortReverse) ? 'fa fa-caret-up' : 'fa fa-caret-down'"></span>

					</th>				
					<th ng-if="fields[1].decip">
						<a href="#" ng-click="vm.selectSortfield('subject')">Sub Deciplines</a>
						<span ng-click="vm.toggleSort()" ng-show="sortType == 'subject'" ng-class="(sortReverse) ? 'fa fa-caret-up' : 'fa fa-caret-down'"></span>
						
					</th>
					<th ng-if="fields[2].author">
						<a href="#" ng-click="vm.selectSortfield('author')">Author</a>
						<span ng-click="vm.toggleSort()" ng-show="sortType == 'author'" ng-class="(sortReverse) ? 'fa fa-caret-up' : 'fa fa-caret-down'"></span>
					</th>
					<th ng-if="fields[3].dated">
						<a href="#" ng-click="vm.selectSortfield('created_at')">created at</a>
						<span ng-click="vm.toggleSort()" ng-show="sortType == 'created_at'" ng-class="(sortReverse) ? 'fa fa-caret-up' : 'fa fa-caret-down'"></span>
						
					</th>
					
					<th ng-if="fields[4].desc">

						<a href="#" ng-click="vm.selectSortfield('queDesc')">Description</a>
						<span ng-click="vm.toggleSort()" ng-show="sortType == 'queDesc'" ng-class="(sortReverse) ? 'fa fa-caret-up' : 'fa fa-caret-down'"></span>	
						
					</th>
				
					<th ng-if="fields[5].answer">
						<a href="#" ng-click="vm.selectSortfield('answer')">Answer</a>
						<span ng-click="vm.toggleSort()" ng-show="sortType == 'answer'" ng-class="(sortReverse) ? 'fa fa-caret-up' : 'fa fa-caret-down'"></span>
					</th>
					<th ng-if="fields[6].diff">
						
						<a href="#" ng-click="vm.selectSortfield('levelEN')">Difficulty</a>
						<span ng-click="vm.toggleSort()" ng-show="sortType == 'levelEN'" ng-class="(sortReverse) ? 'fa fa-caret-up' : 'fa fa-caret-down'"></span>

					</th>

					<th ng-if="fields[7].type">
						<a href="#" ng-click="vm.selectSortfield('typeEN')">Type</a>
						<span ng-click="vm.toggleSort()" ng-show="sortType == 'typeEN'" ng-class="(sortReverse) ? 'fa fa-caret-up' : 'fa fa-caret-down'"></span>
					</th>
					<th ng-if="fields[10].status">
						<a href="#" ng-click="vm.selectSortfield('status')">Status</a>
						<span ng-click="vm.toggleSort()" ng-show="sortType == 'status'" ng-class="(sortReverse) ? 'fa fa-caret-up' : 'fa fa-caret-down'"></span>
					</th>
					<th ng-if="fields[8].hits">
						
						<a href="#" ng-click="vm.selectSortfield('hits')">Hits
							<span ng-click="vm.toggleSort()" ng-show="sortType == 'hits'" ng-class="(sortReverse) ? 'fa fa-caret-up' : 'fa fa-caret-down'"></span>
						</a>
					</th>
					<th ng-if="fields[9].scope">
						<a href="#" ng-click="vm.selectSortfield('scope')">Scope
						</a>
						<span ng-click="vm.toggleSort()" ng-show="sortType == 'scope'" ng-class="(sortReverse) ? 'fa fa-caret-up' : 'fa fa-caret-down'"></span>
					</th>
					<th>&nbsp;</th>
					</tr>
				</thead>


				<tbody>

					<tr ng-repeat="que in vm.questions | filter:vm.searchQuery | orderBy:sortType:sortReverse">
					
					<td>{{$index+1}}</td>
					<td ng-if="fields[0].cat">{{que.category}}</td>
					<td ng-if="fields[1].decip">{{que.subject}}</td>
					<td ng-if="fields[2].author">{{que.author}}</td>
					<td ng-if="fields[3].dated">{{que.created_at}}</td>

					<td ng-if="fields[4].desc">

						<p ng-bind-html="que.queDesc">
							
						</p>

					
					<td ng-if="fields[5].answer">{{que.answer}}</td>
					<td ng-if="fields[6].diff">{{que.levelEN}}</td>
					<td ng-if="fields[7].type">{{que.typeEN}}</td>
					
					<td ng-if="fields[10].status">


					

					<span class="kt-switch kt-switch--icon">
                              <label>
                                <input type="checkbox" checked="checked" name="" ng-model="que.status" ng-true-value="'1'" ng-false-value="'0'"
                                     ng-checked="que.status == '1'" ng-change="vm.questionStatusToggle(que.question_id, que.status)">
                                <span></span>
                              </label>
                            </span>



					</td>
					<td ng-if="fields[8].hits">{{que.hits}}</td>
					<td ng-if="fields[9].scope"><span class="status" ng-class="{'finished': que.scope == 'private', 'working': que.scope == 'public', 'initiated': que.scope == 'linked' }">{{que.scope}}</span></td>

					<td>
						<div class="btn-group btn-more">
                                <a class="btn" href="#" data-toggle="dropdown">&nbsp;</a>
                                <ul class="dropdown-menu">
                                    <li><a href="#">Preview</a></li>

									<li><a ui-sref="dash.questionedit({'queID': que.question_id})">Edit</a></li>
                                    
                                </ul>
                            </div>
					</td>

					</tr>
				</tbody>
			</table>
		</div>	
	</aside>


</section>	